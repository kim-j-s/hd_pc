{{#> layout/default gnbis=true page-title="차량번호 확정/변경 | 마이페이지"}}
	<div id="wrap" class="wrap">
		{{> layout/header_pc h-title="차량번호 확정/변경" bc=true }}
		<div id="container" class="container">
			<div class="content">

				<div class="title_view_wrap">
					<div class="page_title">
						<h2 class="p_title">
							<strong>차량번호 확정/변경</strong>
						</h2>
						
						<div class="sub_desc">
							<strong>확정/변경</strong>할 <strong>정보</strong>를 입력해주세요
						</div>
						
					</div>
					<div class="btn_area">
						{{> cp/button type="3" size="4" leftIcon="iic" b-text="자동차 계약변경" btn-title="팝업 열기" popup="pop_insChk"}}
					</div>
				</div>
				

				<div class="info_gray df_type df_type_w_ty1">
					<div class="data_box">
						
						<!-- s: 확정 -->
						<dl>
							<dt><strong>차대번호</strong></dt>
							<dd><strong>ABCDEFG1234567890</strong></dd>
						</dl>
						<!-- e: 확정 -->
						<!-- s: 변경 -->
						<!-- <dl>
							<dt><strong>차량번호</strong></dt>
							<dd><strong>18루**22</strong></dd>
						</dl> -->
						<!-- e: 변경 -->
						<dl>
							<dt><strong>보험기간</strong></dt>
							<dd><strong>2025.04.30~2025.05.02</strong></dd>
						</dl>
						
					</div>
				</div>

				
				<div class="form_group_wrap">
					<div class="form_line">
						<div class="label_tit">확정/변경 차량번호</div>
						
						{{> cp/text placeholder="123가4567(띄어쓰기 없이)" inp-title="확정/변경 차량번호 입력" maxlength="9"}}
						
					</div>
					<div class="form_line">
						<div class="label_tit">변경기준일</div>
						
						<!-- s: 25-10-29 수정 -->
						{{> cp/text cal=true placeholder="날짜 입력" value="2025.12.18" inp-title="변경기준일" }}
						<!-- e: 25-10-29 수정 -->
						
						<ul class="list_ty2">
							<li>
								변경기준일은 다음 날짜로 선택해주세요.
								<ul class="list_ty5">
									<li>차량번호 확정: 책임개시일(대체 후 차량인 경우 차량대체일)</li>
									<li>차량번호 변경: 변경등록일</li>
								</ul>
							</li>
						</ul> 
					</div>
				</div>
				

				<div class="info_gray ty2">
							<div class="insurance_policyBox">
								<div class="insurance_date">
									<div class="insurance_barbox ty2">
										<!-- s: 진행영역 -->
										<!-- 
											접근성 준수를 위해서 해당 구간은 약식 정보를 전달합니다.
											전달정보는 aria-label="변경기간 365일" 형태로 제공됩니다.
											ex) <span id="plnInagDay">220일</span> 일 경우 aria-label="변경기간 220일"
											
											변경기간 적용 시, prograssCar() 호출 필요
										-->
										<div class="progress_box_ty2" role="img" aria-label="변경기간 220일">
											
											<i class="start">
												<span class="spot">시작일</span>
												<em></em>
											</i>
											
											<span id="plnIng" class="ing" style="width:50%">					
												<span class="date" id="planCarTerm">
													
													<span id="plnInagDay">변경기간 220일</span>
													
												</span>
												
												<i class="newStart">
													<span class="spot">기준일</span>
													<em></em>
												</i>
												<i class="end">
													<span class="spot">종료일</span>
													<em></em>
												</i>
												
											</span>
										</div>
										<!-- e: 진행영역 -->
									</div>
								</div>
							</div>
						</div>

						<div class="info_gray ty2">
							<div class="insurance_policyBox">
								<div class="insurance_date">
									<div class="insurance_barbox ty2">
										<!-- s: 진행영역 -->
										<!-- 
											접근성 준수를 위해서 해당 구간은 약식 정보를 전달합니다.
											전달정보는 aria-label="변경기간 365일" 형태로 제공됩니다.
											ex) <span id="plnInagDay">200일</span> 일 경우 aria-label="변경기간 200일"

											변경기간 적용 시, prograssCar() 호출 필요
											-->
										<div class="progress_box_ty2" role="img" aria-label="변경기간 365일">
											
											<i class="start">
												<span class="spot">시작일</span>
												<em></em>
											</i>
											
											<span id="plnIng" class="ing" style="width:100%">					
												<span class="date" id="planCarTerm">
													
													<span id="plnInagDay">변경기간 365일</span>
													
												</span>
												
												<i class="newStart">
													<span class="spot">기준일</span>
													<em></em>
												</i>
												<i class="end">
													<span class="spot">종료일</span>
													<em></em>
												</i>
												
											</span>
										</div>
										<!-- e: 진행영역 -->
									</div>
								</div>
							</div>
						</div>


				<!-- s: 하단 버튼 영역 -->
				<div class="bottom_fix_wrap">
					<div class="btn_area">
						{{> cp/button type="3" size="1" b-text="이전"}}
						{{> cp/button type="1" size="1" b-text="다음" disabled=true}}
					</div>
				</div>
				<!-- s: 하단 버튼 영역 -->
			</div>
		</div>

		<!-- footer -->
		{{> layout/footer }}
		<!-- footer -->
	</div>

	<!-- s: popup area -->
	<!-- s: 자동차 배서 메뉴 -->
	{{> pages/pop1 }}
	<!-- e: 자동차 배서 메뉴 -->
	<!-- e: popup area -->

	
	<!-- 삭제 <script>
		$(function(){
			prograssCar();

			$(window).on('resize', function(){
				prograssCar();
			})
		})

		function prograssCar(){
			const $prograss = $('.progress_box_ty2');

			$prograss.each(function(idx){
				const $allBar = $prograss.eq(idx),
							$bar = $allBar.find('.ing'),
							$start = $bar.find('.newStart'),
							$spot = $bar.find('.spot');

				let spotLeft = null;

				const allW = $allBar.outerWidth(), //progressbar 전체 너비
							barW = $bar.width(), 		//진행된 bar의 너비
							spotW = $spot.outerWidth(),		//spot 너비
							spaceW = 2;										//spot끼리 여백 너비

				const newW = Math.round((barW / allW) * 100),	//진행된 너비 % 변환
							startW = Math.round((8 / allW) * 100),	//기준일 spot % 변환
							newstartW = Math.round((spotW / allW) * 100), //기준일 badge 너비 % 변환
							spacePer = (2 / allW) * 100;

				$prograss.children('.ing').removeClass('full');

				console.log(allW, barW)

				// bar가 시작일과 겹칠 때
				if((allW - barW) <= spotW + spaceW){
					$bar.addClass('big');
					spotLeft = spotW + spaceW - (allW - barW);
					$bar.find('.newStart').children('.spot').css('left', spotLeft);

					// bar 길이 100%일 때
					if(allW == barW){
						$bar.find('.newStart').children('em').css('left', '1px');
					}

				// 기준일, 종료일 겹칠 때
				}else if(barW <= (spotW * 2) + spaceW){
					$bar.find('.newStart').addClass('small');
					$bar.find('.newStart').children('.spot').css('margin-right', spotW + spaceW + 'px');
				}
			})
		}
	</script> -->
	
{{/ layout/default }}