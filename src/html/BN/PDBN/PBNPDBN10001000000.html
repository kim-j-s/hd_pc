{{#> layout/default gnbis=true no-sp=true page-title="걷기할인 | 혜택"}}
<div id="wrap" class="wrap">
    {{> layout/header_pc h-title="걷기할인" bc=true }}

    <div id="container" class="container">
        <div class="content">
            <div class="title_view_wrap">
                <div class="page_title">
                    <h2 class="p_title">
                        <strong>걷기할인</strong>
                    </h2>
                </div>
            </div>

            <div class="cd_top_wrap ty2">
                <div class="content_top">
                    <!-- s: 가입안내 -->
                    <div class="icon_text_area hihealth"></div>
                    <h2 class="title_h2">
                        하이워크 걸음 수에 따라 <strong>현대해상 자동차보험 5% 할인 </strong>
                    </h2>
                    <!-- e: 가입안내 -->
                    <!-- s: 부족, 초과 -->
                    <!-- s: 부족 -->
                    <div class="icon_text_area face1"></div>
                    <h2 class="title_h2">
                        <strong><span class="danger">1,200걸음 부족하여</span> 보험료 할인</strong>을 받으실 수 없어요
                    </h2>
                    <!-- e: 부족 -->
                    <!-- s: 초과 -->
                    <div class="icon_text_area face2"></div>
                    <h2 class="title_h2">
                        <strong><span class="secondary">3,700걸음 초과하여</span> 보험료 할인</strong>을 받으실 수 있어요
                    </h2>
                    <!-- e: 초과 -->
                    
                    <!-- s: 25-09-04 수정 -->
                    <p class="title_sub">2025.04.01(화)~2025.04.30(수)</p>
                    <!-- e: 25-09-04 수정 -->
                    <div class="btn_area basic space1">
                        {{> cp/button type="3" size="5" b-text="일별 걸음수 보기" rightIcon="arrowRightSvg" popup="pop_type05"}}
                    </div>
                    <!-- e: 부족, 초과 -->
                </div>
                <div class="cd_top">
                    <!-- s: 가입안내 -->
                    <h3 class="title_h4">가입 조건도 간단해요!</h3>
                    <ol class="number_list">
                        <li>직전 31일 평균 걸음수 5천보 이상!
                            <p>하이헬스챌린지 앱을 통해 간편하게 확인</p>
                        </li>
                        <li>추가 제출 서류 없음
                            <p>하이헬스챌린지 걸음수로 간편하게 가입 가능</p>
                        </li>
                    </ol>
                    <!-- e: 가입안내 -->
                    <!-- s: 부족, 초과 -->
                    <div class="cd_top_name">
                        평균 걸음 수(최근 31일)
                    </div>
                    <div class="work_number">
                        <strong>8,700</strong><span>걸음</span>
                    </div>
                    <!-- s: 부족 -->
                    <div class="progress_bar progress_bar_ty1 progress_bar_ty1_count" role="img" tabindex="0">
                        <div class="progress_bar_per_cover">
                            <div class="progress_bar_per">
                                <div class="per_bar">
                                    <span class="per_bar_dp dp_ic3" data-pbc="3800">
                                        <span class="text">3,800</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="progress_bar_bottom">
                            <span class="pbb_start" data-pbcs="0">0회</span>
                            <span class="pbb_end" data-pbce="5000">5,000걸음</span>
                        </div>
                    </div>
                    <!-- e: 부족 -->
                    <!-- s: 초과 -->
                    <div class="progress_bar progress_bar_ty1 progress_bar_ty1_count" role="img" tabindex="0">
                        <div class="progress_bar_per_cover">
                            <div class="progress_bar_per">
                                <div class="per_bar">
                                    <span class="per_bar_dp dp_ic3" data-pbc="8700">
                                        <span class="text">8,700</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="progress_bar_bottom">
                            <span class="pbb_start" data-pbcs="0">0회</span>
                            <span class="pbb_end" data-pbce="5000">5,000걸음</span>
                        </div>
                    </div>
                    <!-- e: 초과 -->
                    <!-- e: 부족, 초과 -->
                    <div class="divider_ty2"></div>
                    <!-- s: 가입안내, 부족 -->
                    <div class="icon_right ty1">
                        {{> cp/linkButton bl_class="short_cut two_line" bl_text="지금 이대로 <br><strong class='point'>자동차보험 계산</strong>해 보기" }}
                    </div>
                    <!-- e: 가입안내, 부족 -->
                    <!-- s: 초과 -->
                    <div class="icon_right ty2">
                        {{> cp/linkButton bl_class="short_cut two_line" bl_text="하이헬스챌린지<br><strong class='point'>걸음 수 할인특약으로 5% 할인</strong> 받기" }}
                    </div>
                    <!-- e: 초과 -->
                </div>
            </div>
            <div class="info_gray bg_primary space_between">
                <div>
                    <h3 class="title_h3">하이헬스챌린지 앱 설치</h3>
                    <p class="info_text">지금 바로 오른쪽 QR코드를 통해 하이헬스챌린지 앱 설치하고 <br>걸음 수에 따라 보험료 할인 받아보세요.</p>
                </div>
                <div>
                    <img src="../../../images/content/bn/img_qrcode.png" alt="하이헬스챌린지 앱 설치 QR코드 이미지">
                </div>
            </div>
            <h3 class="title_h3">오늘의 걸음 수<span class="msg_info">9,593 걸음</span></h3>
            <div class="card_item_wrap wrap_row2 high_work">
                <div class="card_item ty1">
                    <div class="title">예상거리</div>
                    <div class="cont"><strong class="point">6.9</strong> km</div>
                </div>
                <div class="card_item ty2">
                    <div class="title">소모열량</div>
                    <div class="cont"><strong class="point">520</strong> kcal</div>
                </div>
            </div>
            <h3 class="title_h3">걸음 수 할인특약이란?</h3>
            <ul class="list_depth">
                <li>가입대상
                    <ul>
                        <li>개인 소유 자동차보험 가입 & 하이헬스챌린지 앱 사용자</li>
                    </ul>
                </li>
                <li>가입조건
                    <ul>
                        <li>회사가 인정하는 걸음수 측정 프로그램에서 확인일 직전 31일 동안 하루 평균 5천보 이상을 달성한 고객님</li>
                    </ul>
                </li>
                <li>할인율
                    <ul>
                        <li>5%(자녀운전자 한정운전 특약과 중복가입 불가)</li>
                    </ul>
                </li>
                <li>적용계약
                    <ul>
                        <li>2025년 5월 16일 책임개시한 보험계약부터</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <!-- footer -->
    {{> layout/footer }}
    <!-- footer -->
</div>

<!-- s: popup area -->
	<!-- s: 일별 걸음수 보기 -->
	{{#> popup/popup_full popup-id="pop_type05" popup-title="일별 걸음수 보기"}}
	<div class="popup_cont">
		<div class="popup_content">
			<div class="info_gray ty2">
				2025.03.31(월)~2025.04.30(수)
			</div>

			<div class="table_wrap and">
				<table class="table">
					<!-- s: 25-09-02 수정 -->
					<caption>일별 걸음 수 제공</caption>
					<!-- e: 25-09-02 수정 -->
					<colgroup>
						<col style="width:25%;">
						<col style="width:auto;">
					</colgroup>
					<tbody>
						<tr>
							<th scope="row" aria-label="일자">2025.03.07</th>
							<td aria-label="걸음 수">500</td>
						</tr>
						<tr>
							<th scope="row" aria-label="일자">2025.03.06</th>
							<td>2,090</td>
						</tr>
						<tr>
							<th scope="row" aria-label="일자">2025.03.05</th>
							<td>2,090</td>
						</tr>
						<tr>
							<th scope="row" aria-label="일자">2025.03.04</th>
							<td>2,090</td>
						</tr>
						<tr>
							<th scope="row" aria-label="일자">2025.03.03</th>
							<td>2,090</td>
						</tr>
						<tr>
							<th scope="row" aria-label="일자">2025.03.02</th>
							<td>2,090</td>
						</tr>
						<tr>
							<th scope="row" aria-label="일자">2025.03.01</th>
							<td>2,090</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="popup_bottom">
		<div class="btn_area">
			<button type="button" class="hd_btn hd_btn_ty_1 hd_btn_s_2">
				<span class="text">확인</span>
			</button>
		</div>
	</div>
	{{/ popup/popup_full}}
	<!-- e: 일별 걸음수 보기 -->
<!-- e: popup area -->
 
	<script>
		$(function(){		
	
		function updateProgressBarPosition($progressBar) {
				
			// 접근성 관련 문구 생성 후 삽입
			var current = $progressBar.find('[data-pbc]').data('pbc');
			var total = $progressBar.find('[data-pbce]').data('pbce');
	
			$progressBar.attr('aria-label', '전체 ' + total + '걸음 중 ' + current + '회 납입');
			
			// 전체 넓이
			var $progressBarPer = $progressBar.find('.progress_bar_per');
			var progressBarPerWidth = $progressBarPer.outerWidth(); // 기준 넓이(px)
	
			// 퍼센트 계산 (소수점 없이)
			var percent = Math.floor((current / total) * 100);       // 현재 진행률(%)
	
			var pixelWidth = Math.floor((percent / 100) * progressBarPerWidth);  // 진행률 px 환산
	
			var $perBar = $progressBar.find('.per_bar');
			var $perBarDp = $perBar.find('.per_bar_dp');
			var perBarDpWidth = $perBarDp.outerWidth();
	
			// console.log('움직이는 컨텐츠 넓이 : ', perBarDpWidth);
	
			// 초기 클래스 제거
			$perBar.removeClass('pos');
			$perBarDp.removeClass('poe');
	
			// 앞에 고정하기
			if (pixelWidth < perBarDpWidth / 2) {
				$perBar.addClass('pos');
			} else {
				$perBar.removeClass('pos');
			}
	
			// 끝으로 보내기
			if (progressBarPerWidth - pixelWidth < perBarDpWidth / 2) {
				$perBar.addClass('poe');
			} else {
				$perBar.removeClass('poe');
			}
	
			// per_bar 너비 설정
			setTimeout(function(){
				$perBar.addClass('active').css('width', percent + '%');
			}, 100);
		}
	
		// 여러 개의 .progress_bar_ty1_count 대해 반복 처리
		$('.progress_bar_ty1_count').each(function() {
			var $this = $(this); // 각 progress_bar_ty1을 $this로 참조
			
			// 윈도우 로드 시 updateProgressBarPosition 함수 호출
			$(window).on('load', function () {
				updateProgressBarPosition($this);
			});
	
			// 리사이즈 시에도 적용
			$(window).on('resize', function () {
				console.log('리사이즈 됨?');
				updateProgressBarPosition($this);
			});
		});
	
	
	
	});
	
	</script>

{{/ layout/default }}