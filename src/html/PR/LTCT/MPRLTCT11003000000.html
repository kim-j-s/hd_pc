<!---
화면번호 : MPRLTCT11003000000
경로 :  상품 > 어린이 > 어린이치아보험 > 보험료확인(보험료계산결과)
-->
{{#> layout/default page-title="보험료 확인 | 상품"}}

<div id="wrap" class="wrap">
	{{> layout/header h-title="다이렉트 어린이치아보험" }}
	<div id="container" class="container">
		<div class="content">
			<div class="guarantee_container">
				<!-- s: guarantee_container_left -->
				<div class="guarantee_container_left">
					<!-- s: live 처리 위치 -->
					<div class="guarantee_top" aria-live="polite">
						<div class="guarantee_top_item active">
							<!-- s: 25-05-22 수정 -->
							<h2 class="title_h2">
								소중한 우리 아이 치아,
								<br>
								<strong>어디까지 보장</strong>받아야 할까요?
							</h2>
							<!-- e: 25-05-22 수정 -->
						</div>
						<div class="guarantee_top_item">
							<h2 class="title_h2">
								<strong>월 22,580원</strong>을 선택할까요?
							</h2>
						</div>
						<div class="guarantee_top_item">
							<h2 class="title_h2">
								<strong>월 12,910원</strong>을 선택할까요?
							</h2>
						</div>
					</div>
					<!-- e: live 처리 위치 -->

					<div class="guarantee_visuval">
						<img src="../../../images/content/ltct/img_MPRLTCT11003000000_01.svg" alt="배경이미지" aria-hidden="true">
						<!-- <div class="visual_msg">
							<div class="msg_text">오프대비<br>최대 13% 할인</div>	
						</div> -->
					</div>

					<div class="guarantee_list_wrap">
						<div class="guarantee_choice_wrap">
							<div class="guarantee_item" data-sendclass="01">
								<div class="gi_radio">
									<input type="radio" name="guarantee_item" id="gi_radio01" aria-labelledby="guarantee_item_top_01">
									<label for="gi_radio01"></label>
								</div>
								<div class="guarantee_item_ev">
									<div class="guarantee_item_top" id="guarantee_item_top_01">
										<div class="git_l">
											<!-- s: 25-05-30 수정 -->
											<span class="hd_badge class_type class_type01"><span class="text">고급</span></span>
											<!-- e: 25-05-30 수정 -->
										</div>
										
										<div class="git_r">
											넉넉한 보장으로 더욱 든든하게
											<!-- s: 25-05-30 추가 -->
											<p class="title_sub">보장 범위는 같아도, 금액은 더 크게 보장!</p>
											<!-- e: 25-05-30 추가 -->
											<span class="git_r_sub">월 <span class="git_r_sub_point">22,580</span>원</span>
										</div>
									</div>
									<div class="guarantee_item_cont">
										<div class="gic_inner_top">
											<div class="badge_wrap">
												<span class="hd_badge outline solid_pastel c_primary size_m">고급</span>
											</div>
											<span class="text">17개 보장</span>
										</div>	
										<div class="gic_inner">
											<!-- s: 25-05-30 수정 -->
											<div class="gic gic_01">
											<!-- e: 25-05-30 수정 -->
												<strong class="tit">넉넉한 보장으로 더욱 든든하게</strong>
												<p class="desc">보장 범위는 같아도, 금액은 더 크게 보장!</p>
											</div>
										</div>
									</div>
								</div>
								{{> cp/linkButton bl_class="short_cut sm move_detail" bl_text="보장내용 자세히 보기" bl_title="슬라이드 이동" }}
							</div>

							<div class="guarantee_item" data-sendclass="03">
								<div class="gi_radio">
									<input type="radio" name="guarantee_item" id="gi_radio03" aria-labelledby="guarantee_item_top_03">
									<label for="gi_radio03"></label>
								</div>
								<div class="guarantee_item_ev">
									<div class="guarantee_item_top" id="guarantee_item_top_03">
										<div class="git_l">
											<!-- s: 25-05-30 수정 -->
											<span class="hd_badge class_type class_type03"><span class="text">기본</span></span>
											<!-- e: 25-05-30 수정 -->
										</div>
										
										
										<div class="git_r">
											<!-- s: 25-05-22 수정 -->
											꼭 필요한 보장만 알차게
											<!-- e: 25-05-22 수정 -->
											<!-- s: 25-05-30 추가 -->
											<p class="title_sub">치아촬영, 치석제거, 발치 치료부터 충치, 잇몸질환, 보철치료까지 보장</p>
											<span class="git_r_sub">월 <span class="git_r_sub_point">12,910</span>원</span>
											<!-- e: 25-05-30 추가 -->
										</div>
									</div>
									<div class="guarantee_item_cont">
										<div class="gic_inner_top">
											<div class="badge_wrap">
												<span class="hd_badge outline solid_pastel c_success size_m">기본</span>
											</div>
											<span class="text">17개 보장</span>
										</div>	
										<div class="gic_inner">
											<!-- s: 25-05-30 수정 -->
											<div class="gic gic_03">
											<!-- e: 25-05-30 수정 -->
												<!-- s: 25-05-22 수정 -->
												<strong class="tit">꼭 필요한 보장만 알차게</strong>
												<!-- e: 25-05-22 수정 -->
												<p class="desc">치아촬영, 치석제거, 발치 치료부터 충치, 잇몸질환, 보철치료까지 보장</p>
											</div>
										</div>
									</div>
								</div>
								{{> cp/linkButton bl_class="short_cut sm move_detail" bl_text="보장내용 자세히 보기" bl_title="슬라이드 이동" }}
							</div>
						</div>
					</div>
				</div>
				<!-- e: guarantee_container_left -->

				<!-- s: guarantee_container_right -->
				<div class="guarantee_container_right">
					<!-- s: guarantee_detail -->
					<div class="guarantee_detail">
						<div class="guarantee_detail_top">
							<div class="splide_wrap splide_wrap_ty1" id="splide_wrap_ty1">
								<div class="splide" role="group">
									<div class="splide__track">
										<ul class="splide__list">
											<!-- s: 기본 -->											
											<li class="splide__slide c1" tabindex="0" data-getclass="03">
												<div class="gd_item">
													<div class="rdo_box">
														<input type="radio" name="d_r" id="d_r_01" aria-labelledby="d_rdo_01">
														<label for="d_r_01"></label>
													</div>
													<div class="gdi_content" aria-labelledby="d_rdo_01">
														<div class="badge_wrap hasText">
															<span class="hd_badge outline solid_pastel c_success size_m"><strong>기본</strong> <span class="pipe_line">17개 보장</span></span>
														</div>
														<p class="head_text">
															<!-- s: 25-05-22 수정 -->
															꼭 필요한 보장만 알차게
															<!-- e: 25-05-22 수정 -->
															<span class="price">
																<strong class="price_num">12,910</strong><span class="won">원</span>
															</span>
														</p>
													</div>
												</div>
											</li>
											<!-- e: 기본 -->

											<!-- s: 고급 -->
											<li class="splide__slide c3" tabindex="0" data-getclass="01">
												<div class="gd_item">
													<div class="rdo_box">
														<input type="radio" name="d_r" id="d_r_03" aria-labelledby="d_rdo_03">
														<label for="d_r_03"></label>
													</div>
													<div class="gdi_content" aria-labelledby="d_rdo_03">
														<div class="badge_wrap hasText">
															<span class="hd_badge outline solid_pastel c_primary size_m"><strong>고급</strong> <span class="pipe_line">17개 보장</span></span>
														</div>
														<p class="head_text">
															넉넉한 보장으로 더욱 든든하게
															<span class="price">
																<strong class="price_num">22,580</strong><span class="won">원</span>
															</span>
														</p>														
													</div>
												</div>
											</li>
											<!-- e: 고급 -->
										</ul>
									</div>
									<div class="splide_arrows">
										<button type="button" class="swiper_button sbc_02 sbs_02 swiper_button_left" aria-label="이전 플랜 보기"></button>
										<button type="button" class="swiper_button sbc_02 sbs_02 swiper_button_right" aria-label="다음 플랜 보기"></button>
									</div>
								</div>
							</div>

							<div class="guarantee_detail_mini">
								<div class="item_wrap">
									<span class="i_data">
										<span class="text">보험/납입 기간</span>
										<strong class="data">20년</strong>
									</span>
									<span class="i_data">
										<span class="text">납입 방법</span>
										<strong class="data">월납</strong>
									</span>
								</div>
								
								<div class="modify_ba">
									{{> cp/button type="3" size="5" b-text="변경" btn-title="보험/납입기간 변경 팝업열기"}}
								</div>
							</div>
						</div>

						<!-- 간편정보 -->
						<div class="simple_info_wrap">
							<div class="simple_info_item">
								<ul class="sii_list">
									<li>
										<span class="sii_list_l">보험료</span>
										<span class="sii_list_r">
											<strong class="price">12,910원</strong>
										</span>
									</li>
									<li>
										<span class="sii_list_l">
											<span class="text">
												보장 범위 <strong class="bold">17개</strong>
											</span>
										</span>
										<span class="sii_list_r">
											<span class="text">
												보험/납입 기간 <strong class="bold">20년</strong>
											</span>
											<span class="pipe">
												납입 방법 <strong class="bold">월납</strong>
											</span>
										</span>
									</li>
								</ul>
							</div>
						</div>
						<!-- 간편정보 -->


						<div class="gd_middle_ba btn_area ty2">
							{{> cp/button type="3" size="3" b-text="모든 플랜 한눈에 보기" popup="ex_popup_full" btn-title="전체 팝업"}}
							{{> cp/button type="3" size="3" b-text="계산 결과 문자로 받기" popup="ex_popup_full" btn-title="전체 팝업"}}
						</div>

						<div class="acc_group">
							<div class="space_list_ty2">
								<div class="acd_item acd_item_ty2">
									{{#> cp/accordion ac-title="꼭 가입해야 할 보장" cont-class="" ac-active=true }}
									<div class="coverage_item_list_ty2">
										<div class="list">
											<span class="item_title">주요치주질환(잇몸질환)치료</span>
											<!-- s: 25-05-02 수정 -->
											{{> cp/linkButton bl_class="price_btn" bl_text="2만원" role_b=true question_tit="가입조건변경"}}
											<!-- e: 25-05-02 수정 -->
										</div>
										<div class="chk_lby2">
											<div class="badge_wrap">
												<span class="hd_badge solid_pastel c_warning size_m">보장을 확대했어요</span>
											</div>
										</div>																
									</div>
									{{/ cp/accordion }}
								</div>

								<div class="acd_item acd_item_ty2">
									{{#> cp/accordion ac-title="유치부터 영구치까지" cont-class="" ac-active=true }}
										<div class="coverage_item_list_ty2">
											<div class="list">
												{{> cp/checkbox labelname="치아치료(강화형)" id="chk_g01_1" }}
												<!-- s: 25-05-02 수정 -->
												{{> cp/linkButton bl_class="price_btn" bl_text="5만원" role_b=true question_tit="가입조건변경"}}
												<!-- e: 25-05-02 수정 -->
											</div>
											<!-- s: 25-05-14 수정 -->											
											<div class="table_wrap type_mini">
											<div class="title">치아보존치료</div>
											<table class="table table_ty_mini">
												<caption>치아보존치료 별 담보금액 </caption>
												<colgroup>
													<col style="width:40%;">
													<col style="width:30%;">
													<col style="width:30%;">
												</colgroup>
									
												<thead>
													<tr>
														<th scope="col"></th>
														<th scope="col">유치</th>
														<th scope="col">영구치</th>
													</tr>
												</thead>
												<tbody>				
													<tr>
														<th scope="row">아말감, 글래스아이노머</th>
														<td>2.5천원</td>
														<td>5천원</td>
													</tr>
													<tr>
														<th scope="row">레진</th>
														<td>1만원</td>
														<td>2.5만원</td>
													</tr>
													<tr>
														<th scope="row">인레이, 온레이</th>
														<td>2.5만원</td>
														<td>5만원</td>
													</tr>
													<tr>
														<th scope="row">크라운</th>
														<td>2.5만원</td>
														<td>10만원</td>
													</tr>
												</tbody>
											</table>
										</div>
										<div class="table_wrap type_mini">
											<div class="title">영구치보철치료</div>
											<table class="table table_ty_mini">
												<caption>영구치 보철치료 별 담보금액</caption>
												<colgroup>
													<col style="width:50%;">
													<col style="width:50%;">
												</colgroup>
												<tbody>				
													<tr>
														<th scope="row">틀니</th>
														<td>50만원</td>
													</tr>
													<tr>
														<th scope="row">임플란트</th>
														<td>50만원</td>
													</tr>
													<tr>
														<th scope="row">브릿지</th>
														<td>25만원</td>
													</tr>
												</tbody>
											</table>
										</div>
										<!-- e: 25-05-14 수정 -->
									</div>
									{{/ cp/accordion }}
								</div>

								<div class="acd_item acd_item_ty2">
									{{#> cp/accordion ac-title="치석제거" cont-class="" ac-active=true }}
										<div class="coverage_item_list_ty2">
											<div class="list">
												{{> cp/checkbox labelname="치석제거(스케일링)" id="chk_g02_1" }}
												<!-- s: 25-05-02 수정 -->
												{{> cp/linkButton bl_class="price_btn" bl_text="1만원" role_b=true question_tit="가입조건변경"}}
												<!-- e: 25-05-02 수정 -->
											</div>	
										</div>
									{{/ cp/accordion }}
								</div>


								<div class="acd_item acd_item_ty2">
									{{#> cp/accordion ac-title="치아촬영부터 치료까지" cont-class="" ac-active=true }}
										<div class="coverage_item_list_ty2">
											<div class="list">
												{{> cp/checkbox labelname="치과크라운치료(강화형)" id="chk_g03_1" }}
												<!-- s: 25-05-02 수정 -->
												{{> cp/linkButton bl_class="price_btn" bl_text="5만원" role_b=true question_tit="가입조건변경"}}
												<!-- e: 25-05-02 수정 -->
											</div>
											<div class="list">
												{{> cp/checkbox labelname="치과치수치료" id="chk_g03_2" }}
												<!-- s: 25-05-02 수정 -->
												{{> cp/linkButton bl_class="price_btn" bl_text="3만원" role_b=true question_tit="가입조건변경"}}
												<!-- e: 25-05-02 수정 -->
											</div>
											<div class="list">
												{{> cp/checkbox labelname="치아촬영(X-ray,파노라마)" id="chk_g03_3" }}
												<!-- s: 25-05-02 수정 -->
												{{> cp/linkButton bl_class="price_btn" bl_text="1만원" role_b=true question_tit="가입조건변경"}}
												<!-- e: 25-05-02 수정 -->
											</div>
											<div class="list">
												{{> cp/checkbox labelname="발치치료" id="chk_g03_4" }}
												<!-- s: 25-05-02 수정 -->
												{{> cp/linkButton bl_class="price_btn" bl_text="3만원" role_b=true question_tit="가입조건변경"}}
												<!-- e: 25-05-02 수정 -->
											</div>
											<div class="list">
												{{> cp/checkbox labelname="충치예방치료(연간1회한)" id="chk_g03_5" }}
												<!-- s: 25-05-02 수정 -->
												{{> cp/linkButton bl_class="price_btn" bl_text="1만원" role_b=true question_tit="가입조건변경"}}
												<!-- e: 25-05-02 수정 -->
											</div>
										</div>
									{{/ cp/accordion }}
								</div>

								<div class="acd_item acd_item_ty2">
									{{#> cp/accordion ac-title="법률적 도움" cont-class="" ac-active=true }}
										<div class="coverage_item_list_ty2">
											<div class="list">
												{{> cp/checkbox labelname="의료사고법률비용" id="chk_g04_1" }}
												<!-- s: 25-05-02 수정 -->
												{{> cp/linkButton bl_class="price_btn" bl_text="1천만원" role_b=true question_tit="가입조건변경"}}
												<!-- e: 25-05-02 수정 -->
											</div>
											<div class="list">
												{{> cp/checkbox labelname="법률비용손해(의료과오)" id="chk_g04_2" }}
												<!-- s: 25-05-02 수정 -->
												{{> cp/linkButton bl_class="price_btn" bl_text="5만원" role_b=true question_tit="가입조건변경"}}
												<!-- e: 25-05-02 수정 -->
											</div>		
										</div>									
									{{/ cp/accordion }}
								</div>							
							
							</div>
						</div>

						<!-- s: 25-05-14 수정 -->
						<div class="btn_area center">
							{{> cp/button type="3" size="3" b-text="예상 환급금 알아보기" popup="pop1" btn-title="전체 팝업"}}
						</div>
						<!-- e: 25-05-14 수정 -->

						<!-- s: 25-05-07 수정 -->
						<!-- s: 꼭 알아두세요 -->
						{{#> cp/notice dp-active="active" }}
						<ul class="list_ty1">
							<li>치아치료(강화형) 담보<br />
								[충전/크라운치료]: 최초계약일로부터 2년 미만인 경우 연간 3개 한도, 2년 이상인 경우 한도 없이 보장<br />
								[틀니(가철성의치)]: 연간 1회 한도 보장
								</li>
							<li>치과크라운치료(강화형)담보: 최초계약일로부터 2년 미만인 경우 연간 3개 한도, 2년 이상인 경우 한도 없이 보장</li>
							<li>치아치료(강화형), 치과크라운치료(강화형)담보: 치과 질환은 최초계약일로부터 90일 이후 보장</li>
							<!-- s: 25-05-22 수정 -->
							<li>충치예방치료담보는 피보험자의 보험나이 5세 계약해당일로부터 20세까지 보장되며, 보험기간을 15년 만기로 가입 시 피보험자 보험 나이가 2~4세인 경우 해당 담보는 가입하실 수 없습니다.</li>
							<!-- e: 25-05-22 수정 -->
							<li>의료사고법률비용담보 보장은 1심에 한해 보장됩니다.</li>
							<!-- e: 25-05-22 수정 -->
							<li>법률비용손해(의료과오)로 보장하는 변호사비용 자기부담금은 10만원입니다.</li>
							<!-- s: 25-05-22 수정 -->
						</ul>
						{{/ cp/notice }}
						<!-- e: 꼭 알아두세요 -->
						<!-- e: 25-05-07 수정 -->
					</div>
					<!-- e: guarantee_detail -->
				 </div>
				<!-- e: guarantee_container_right -->

			</div>			
		</div>
			
	</div>

	<div class="bottom_fix_wrap">
		<div class="btn_area">
			{{> cp/button type="1" size="1" b-text="원하는 보장을 선택 중이에요" disabled=true }}
			<!-- {{> cp/button type="1" size="1" b-text="선택한 플랜으로 가입할게요" }} -->
			<!-- {{> cp/button type="1" size="1" b-text="이대로 가입할래요" }} -->
		</div>
	</div>
</div>

<!-- s: popup area -->

	<!-- s: Full 팝업(예시) -->
	{{#> popup/popup_full popup-id="ex_popup_full" popup-title="팝업 타이틀" }}
	<div class="popup_cont">
		<div class="popup_content">
			<!-- s: popup_content_top -->
			<div class="popup_content_top">
				<h2 class="title_h2">
					타이틀영역
				</h2>
			</div>
			<!-- e: popup_content_top -->

			버튼클릭시 출력되는 풀 팝업 예시입니다.
		</div>
	</div>
	<div class="popup_bottom">		
		<div class="btn_area">
			{{> cp/button type="3" size="1" b-text="취소" }}
			{{> cp/button type="1" size="1" b-text="확인" }}
		</div>
	</div>
	{{/ popup/popup_full}}
	<!-- e: Full 팝업(예시) -->


<!-- e: popup area -->

<script>
	$(function () {

		// 보험 플랜 - 진입화면 라디오 선택 이벤트
		$('.guarantee_choice_wrap .guarantee_item .gi_radio input[type="radio"]').on('change', function() {
			const idx = $(this).closest('.guarantee_item').index();
			// console.log(idx)
			const $selectedItem = $(this).closest('.guarantee_item');
			$(this).closest('.guarantee_choice_wrap').addClass('active');
			$(this).closest('.guarantee_choice_wrap').find('.guarantee_item').removeClass('active');
			$(this).closest('.guarantee_item').addClass('active');

			// 모든 항목 초기화: 컨텐츠 닫고 타이틀 열기
			$('.guarantee_choice_wrap .guarantee_item').each(function() {
				$(this).find('.guarantee_item_cont').stop(true, true).slideUp(300);
				$(this).find('.guarantee_item_top').stop(true, true).slideDown(300);
			});

			// 선택된 항목만: 컨텐츠 열고 타이틀 닫기
			$selectedItem.find('.guarantee_item_cont').stop(true, true).slideDown(300);
			$selectedItem.find('.guarantee_item_top').stop(true, true).slideUp(300);

			// 고급 선택 시
			if( idx === 0 && $('.gtl_special').length ) {
				$('.gtl_special').addClass('active');
			} else {
				$('.gtl_special').removeClass('active');
			}

			// head 문구 변경
			$('.guarantee_top_item').eq(idx + 1).addClass('active').siblings('.guarantee_top_item').removeClass('active');

			// 비쥬얼 영역 변경			
			$('.guarantee_visuval').stop(true, true).slideUp(300);

			// 추가된 부분
			const selectedClass = $(this).closest('.guarantee_item').data('sendclass'); // 선택된 항목의 data-sendclass 값
			console.log('선택된 항목의 data-sendclass:', selectedClass);
		});
		// 보험 플랜 - 진입화면 라디오 선택 이벤트

		// Splide 설정
		var splide = new Splide('#splide_wrap_ty1 .splide', {
			speed: 500,
			accessibility: true,
			arrows: false, // 기본 화살표 비활성화
			focusableNodes: 'a, button, input, textarea, select, li',
		}).mount();

		splide.on('moved', function () {
			const $slides = $('.splide__slide');
			const $activeSlide = $slides.filter('.is-active');
			const $radio = $activeSlide.find('input[type="radio"]');

			// 모든 슬라이드 tabindex 제거
			$slides.removeAttr('tabindex');

			// 활성화된 슬라이드에 radio 체크 및 focus 처리
			if ($radio.length) {
				$radio.prop('checked', true).trigger('change');
			}

			// 접근성: 현재 슬라이드에 포커스
			$activeSlide.attr('tabindex', '0').focus();

			// 버튼 상태 갱신
			updateArrowState();
		});

		// 슬라이드 효과를 주기 위함
		splide.on('move', function (newIndex) {
			const $slides = $('.splide__slide');
			$slides.removeClass('effect');

			const $nextSlide = $slides.eq(newIndex);
			$nextSlide.addClass('effect');
		});

		// 커스텀 좌우 버튼 클릭 시 이동
		$('#splide_wrap_ty1 .swiper_button_left').on('click', () => splide.go('<'));
		$('#splide_wrap_ty1 .swiper_button_right').on('click', () => splide.go('>'));

		// 버튼 상태 업데이트 함수
		function updateArrowState() {
			const curr = splide.index;
			const max = splide.length - 1;

			$('#splide_wrap_ty1 .swiper_button_left').prop('disabled', curr === 0);
			$('#splide_wrap_ty1 .swiper_button_right').prop('disabled', curr === max);
		}

		// 초기 로드 시 상태 설정
		updateArrowState();	

		// 보험 플랜 - 우측 이동
		$('.move_detail').on('click', function () {
			const selectedClass = $('.guarantee_choice_wrap .guarantee_item input[type="radio"]:checked').closest('.guarantee_item').data('sendclass');
			console.log('선택된 항목의 data-sendclass:', selectedClass);
			const targetSlide = $('.splide__slide[data-getclass="' + selectedClass + '"]');

			if (targetSlide.length) {
				const targetIndex = targetSlide.index();  // 슬라이드의 인덱스를 구합니다.
				// console.log('목표 슬라이드 인덱스:', targetIndex);
				$('.guarantee_container').addClass('active');

				setTimeout(function() {
					$('.splide__list').find('.splide__slide').eq(targetIndex).addClass('effect').find('input[type="radio"]').prop('checked', true);;
					splide.go(targetIndex);
					$('.container').scrollTop(0);
					setTimeout(function(){
						$('.splide__list').find('.splide__slide').eq(targetIndex).attr('tabindex', '0').focus();
						$('.guarantee_container').css('position', 'static');
						$('.guarantee_container_left').attr('aria-hidden', true);
						$('.guarantee_container_right').css('position', 'static');
					}, 100)
				}, 500);
			}
		});
		// 보험 플랜 - 우측 이동

		// 25-05-19 수정
		window.addEventListener('resize', function () {
			splide.refresh(); // 슬라이드 다시 계산
		});
		// 25-05-19 수정
	});
</script>


{{/ layout/default }}
