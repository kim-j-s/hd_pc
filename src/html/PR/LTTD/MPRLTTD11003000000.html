{{#> layout/default page-title="보험료 확인 | 오토바이운전자보험"}}
<div id="wrap" class="wrap">
	{{> layout/header h-title="보험료 확인" }}
	<form action="" class="container_form">
		<div id="container" class="container">
			<div class="content">
				<div class="guarantee_container">
					<!-- s: guarantee_container_left -->
					<div class="guarantee_container_left">
						<!-- s: live 처리 위치 -->
						<div class="guarantee_top" aria-live="polite">
							<div class="guarantee_top_item active">
								<!-- prettier-ignore -->
								<h2 class="title_h2">
									오토바이 교통사고,<br>
									<strong>어디까지 보장</strong>을 받아야 할까요?
								</h2>
							</div>
							<div class="guarantee_top_item">
								<h2 class="title_h2">
									<strong>월 34,220원</strong>을 선택할까요?
								</h2>
							</div>
							<div class="guarantee_top_item">
								<h2 class="title_h2">
									<strong>월 24,260원</strong>을 선택할까요?
								</h2>
							</div>
							<div class="guarantee_top_item">
								<h2 class="title_h2">
									<strong>월 13,600원</strong>을 선택할까요?
								</h2>
							</div>
						</div>
						<!-- e: live 처리 위치 -->

						<div class="guarantee_visuval">
							<img src="../../../images/content/lttd/img_MPRLTTD11003000000.svg" alt="배경이미지" aria-hidden="true">
						</div>

						<div class="guarantee_list_wrap">
							<div class="guarantee_choice_wrap">
								<div class="guarantee_item" data-sendclass="01">
									<div class="gi_radio">
										<input type="radio" name="guarantee_item" id="gi_radio01" aria-labelledby="guarantee_item_top_01">
										<label for="gi_radio01"></label>
									</div>
									<div class="guarantee_item_ev">
										<div class="guarantee_item_top" id="guarantee_item_top_01">
											<div class="git_l">
												<span class="hd_badge class_type class_type01"><span class="text">고급</span></span>
											</div>
											<div class="git_r">
												사고 나서 다쳤을 때 더 든든하게
												<span class="git_r_sub">월 <span class="git_r_sub_point">34,220</span>원</span>
											</div>
										</div>
										<div class="guarantee_item_cont">
											<div class="gic_inner_top">
												<div class="badge_wrap">
													<span class="hd_badge outline solid_pastel c_primary size_m">고급</span>
												</div>
												<span class="text">22개 보장</span>
											</div>	
											<div class="gic_inner">
												<div class="gic gic_01">
													<strong class="tit">사고 나서 다쳤을 때 더 든든하게</strong>
													<p class="desc">진단, 치료, 후유장해, 사망까지 폭 넓은 보장을 더 든든하게 담았습니다.(특약 가입시)</p>
												</div>
											</div>
										</div>
									</div>
									{{> cp/linkButton bl_class="short_cut sm move_detail" bl_text="보장내용 자세히 보기" bl_title="슬라이드 이동" }}
								</div>

								<div class="guarantee_item" data-sendclass="02">
									<div class="gi_radio">
										<input type="radio" name="guarantee_item" id="gi_radio02" aria-labelledby="guarantee_item_top_02">
										<label for="gi_radio02"></label>
									</div>
									<div class="guarantee_item_ev">
										<div class="guarantee_item_top" id="guarantee_item_top_02">
											<div class="git_l">
												<span class="hd_badge class_type class_type02"><span class="text">표준</span></span>
											</div>
											<div class="git_r">
												오토바이 사고로 다쳤을 때 걱정 없게
												<span class="git_r_sub">월 <span class="git_r_sub_point">24,260</span>원</span>
											</div>
										</div>
										<div class="guarantee_item_cont">
											<div class="gic_inner_top">
												<div class="badge_wrap">
													<span class="hd_badge outline solid_pastel c_secondary size_m">표준</span>
												</div>
												<span class="text">22개 보장</span>
											</div>	
											<div class="gic_inner">
												<div class="gic gic_02">
													<strong class="tit">오토바이 사고로 다쳤을 때 걱정 없게</strong>
													<p class="desc">오토바이 사고로 인한 크고 작은 상해와 열사병, 동상에 골절 치료비 보장까지 더했습니다.</p>
												</div>
											</div>
										</div>
									</div>
									{{> cp/linkButton bl_class="short_cut sm move_detail" bl_text="보장내용 자세히 보기" bl_title="슬라이드 이동" }}
								</div>

								<div class="guarantee_item" data-sendclass="03">
									<div class="gi_radio">
										<input type="radio" name="guarantee_item" id="gi_radio03" aria-labelledby="guarantee_item_top_03">
										<label for="gi_radio03"></label>
									</div>
									<div class="guarantee_item_ev">
										<div class="guarantee_item_top" id="guarantee_item_top_03">
											<div class="git_l">
												<span class="hd_badge class_type class_type03"><span class="text">기본</span></span>
											</div>
											<div class="git_r">
												운전자 3대 필수 비용은 기본
												<span class="git_r_sub">월 <span class="git_r_sub_point">13,600</span>원</span>
											</div>
										</div>
										<div class="guarantee_item_cont">
											<div class="gic_inner_top">
												<div class="badge_wrap">
													<span class="hd_badge outline solid_pastel c_success size_m">기본</span>
												</div>
												<span class="text">9개 보장</span>
											</div>	
											<div class="gic_inner">
												<div class="gic gic_03">
													<strong class="tit">운전자 3대 필수 비용은 기본</strong>
													<p class="desc">변호사선임비, 형사합의금, 벌금 등 오토바이 운전자에게도 꼭 필요한 3대 비용을 든든하게 보장해 드려요.</p>
												</div>
											</div>
										</div>
									</div>
									{{> cp/linkButton bl_class="short_cut sm move_detail" bl_text="보장내용 자세히 보기" bl_title="슬라이드 이동" }}
								</div>
							</div>
						</div>
					</div>
					<!-- e: guarantee_container_left -->

					<!-- s: guarantee_container_right -->
					<div class="guarantee_container_right">
						<!-- s: guarantee_detail -->
						<div class="guarantee_detail">
							<div class="guarantee_detail_top">
								<div class="splide_wrap splide_wrap_ty1" id="splide_wrap_ty1">
									<div class="splide" role="group">
										<div class="splide__track">
											<ul class="splide__list">
												<!-- s: 기본 -->											
												<li class="splide__slide c1" tabindex="0" data-getclass="03">
													<div class="gd_item">
														<div class="rdo_box">
															<input type="radio" name="d_r" id="d_r_01" aria-labelledby="d_rdo_01">
															<label for="d_r_01"></label>
														</div>
														<div class="gdi_content" aria-labelledby="d_rdo_01">
															<div class="badge_wrap">
																<span class="hd_badge outline solid_pastel c_success size_m"><strong>기본</strong> <span class="pipe_line">9개 보장</span></span>
															</div>
															<p class="head_text">
																운전자 3대 필수 비용은 기본
																<!-- prettier-ignore -->
																<span class="price">
																	<strong class="price_num">13,600</strong><span class="won">원</span>
																</span>
															</p>
															<ul class="gdi_content_list">
																<li class="ico_add ico_add_ty1">
																	<div class="item">
																		{{#> cp/linkButton bl_class="add_text_btn" question_tit="할인 안내 팝업열기" }}
																				<!-- prettier-ignore -->
																				<div class="txt">
																					당사 자동차보험 가입 고객님<br>
																					<strong class="point">매월 7%</strong>할인
																				</div>
																			{{/ cp/linkButton}}
																	</div>
																</li>
															</ul>
														</div>
													</div>
												</li>
												<!-- e: 기본 -->

												<!-- s: 표준 -->
												<li class="splide__slide c2" tabindex="0" data-getclass="02">
													<div class="gd_item">
														<div class="rdo_box">
															<input type="radio" name="d_r" id="d_r_02" aria-labelledby="d_rdo_02">
															<label for="d_r_02"></label>
														</div>
														<div class="gdi_content" aria-labelledby="d_rdo_02">
															<div class="badge_wrap">
																<span class="hd_badge outline solid_pastel c_secondary size_m"><strong>표준</strong> <span class="pipe_line">22개 보장</span></span>
															</div>
															<p class="head_text">
																<!-- prettier-ignore -->
																오토바이 사고로 다쳤을 때 걱정 없게
																<span class="price">
																	<!-- prettier-ignore -->
																	<strong class="price_num">24,260</strong><span class="won">원</span>
																</span>
															</p>
															<ul class="gdi_content_list">
																<li class="ico_add ico_add_ty1">
																	<div class="item">
																		{{#> cp/linkButton bl_class="add_text_btn" question_tit="할인 안내 팝업열기" }}
																			<!-- prettier-ignore -->
																			<div class="txt">
																				당사 자동차보험 가입 고객님<br>
																				<strong class="point">매월 7%</strong>할인
																			</div>
																		{{/ cp/linkButton}}
																	</div>
																</li>
															</ul>
														</div>
													</div>
												</li>
												<!-- e: 표준 -->

												<!-- s: 고급 -->
												<li class="splide__slide c3" tabindex="0" data-getclass="01">
													<div class="gd_item">
														<div class="rdo_box">
															<input type="radio" name="d_r" id="d_r_03" aria-labelledby="d_rdo_03">
															<label for="d_r_03"></label>
														</div>
														<div class="gdi_content" aria-labelledby="d_rdo_03">
															<div class="badge_wrap">
																<span class="hd_badge outline solid_pastel c_primary size_m"><strong>고급</strong> <span class="pipe_line">22개 보장</span></span>
															</div>
															<!-- prettier-ignore -->
															<p class="head_text">
																사고 나서 다쳤을 때 더 든든하게
																<!-- prettier-ignore -->
																<span class="price">
																	<strong class="price_num">34,220</strong><span class="won">원</span>
																</span>
															</p>
															<ul class="gdi_content_list">
																<li class="ico_add ico_add_ty1">
																	<div class="item">
																		{{#> cp/linkButton bl_class="add_text_btn" question_tit="할인 안내 팝업열기" }}
																				<!-- prettier-ignore -->
																				<div class="txt">
																					당사 자동차보험 가입 고객님<br>
																					<strong class="point">매월 7%</strong>할인
																				</div>
																			{{/ cp/linkButton}}
																	</div>
																</li>																
															</ul>
														</div>
													</div>
												</li>
												<!-- e: 고급 -->
											</ul>
										</div>
										<div class="splide_arrows">
											<button type="button" class="swiper_button sbc_02 sbs_02 swiper_button_left" aria-label="이전 플랜 보기"></button>
											<button type="button" class="swiper_button sbc_02 sbs_02 swiper_button_right" aria-label="다음 플랜 보기"></button>
										</div>
									</div>
								</div>

								<div class="guarantee_detail_mini">
									<div class="item_wrap">
									<span class="i_data">
										<span class="text">보험/납입 기간</span>
										<strong class="data">10년</strong>
									</span>
									<span class="i_data">
										<span class="text">납입 방법</span>
										<strong class="data">월납</strong>
									</span>
									</div>
									<div class="modify_ba">
										{{> cp/button type="3" size="5" b-text="변경" btn-title="가입조건 변경 팝업열기"}}
									</div>
								</div>
							</div>

							<!-- 간편정보 -->
							<div class="simple_info_wrap">
								<div class="simple_info_item">
									<ul class="sii_list">
										<li>
											<span class="sii_list_l">보험료</span>
											<span class="sii_list_r">
												<strong class="price">34,220원</strong>
											</span>
										</li>
										<li>
											<span class="sii_list_l"> 
												<span class="text">
													보장 범위 <strong class="bold">22개</strong>
												</span>
											</span>
											<span class="sii_list_r">
												<span class="text">
													보험/납입기간 및 방법 <strong class="bold">10년</strong>
												</span>
												<span class="pipe">
													<strong class="bold">월납</strong>
												</span>
											</span>
										</li>
									</ul>
								</div>
							</div>
							<!-- 간편정보 -->
							
							<div class="gd_middle_ba btn_area">
								{{> cp/button type="3" size="3" b-text="모든 플랜 한눈에 보기" btn-title="전체 팝업"}}
								{{> cp/button type="3" size="3" b-text="계산 결과 문자로 받기" btn-title="전체 팝업"}}
							</div>

							<div class="acc_group">
								<div class="space_list_ty2">

									<div class="acd_item acd_item_ty2">
										{{#> cp/accordion ac-title="꼭 가입해야 할 보장" cont-class="" ac-active=true }}
										<div class="cont_text">[필수]이륜자동차운전중상해사망</div>
										<div class="chk_lby2">
											{{> cp/linkButton bl_text="5천만원" size="1" bl_class="price_btn" question_tit="보장상세내용보기"}}
										</div>
										{{/ cp/accordion }}
									</div>


									<div class="acd_item acd_item_ty9">
										{{#> cp/accordion ac-title="상세보기" aci="aci01" aclc="chk_label_ty2" ac-active=true }}
											<ul class="coverage_item_list">
												<li class="list">
													<div class="item_title">자동차사고벌금(대물)</div>
													<div class="sub_txt_area">
														{{> cp/linkButton bl_class="price_btn" bl_text="5백만원" role_b=true question_tit="가입조건변경" }}
													</div>
												</li>
												<li class="list">
													<div class="item_title">자동차사고벌금Ⅱ(대인)</div>
													<div class="sub_txt_area">
														{{> cp/linkButton bl_class="price_btn" bl_text="3천만원" role_b=true question_tit="가입조건변경" }}
													</div>
												</li>
												<li class="list">
													<div class="item_title">자동차사고변호사선임비용Ⅲ</div>
													<div class="sub_txt_area">
														{{> cp/linkButton bl_class="price_btn" bl_text="1천만원" role_b=true question_tit="가입조건변경" }}
													</div>
												</li>
												<li class="list">
													<div class="item_title">자동차사고번호사선임비용Ⅲ(특정사고경찰조사포함)(갱신형)</div>
													<div class="sub_txt_area">
														{{> cp/linkButton bl_class="price_btn_non" bl_text="미가입" role_b=true question_tit="가입조건변경" }}
													</div>
												</li>
												<li class="list">
													<div class="item_title">이륜자동차운전중상해골절진단(치아파절제외)</div>
													<div class="sub_txt_area">
														{{> cp/linkButton bl_class="price_btn" bl_text="2십만원" role_b=true question_tit="가입조건변경" }}
													</div>
												</li>
												<li class="list">
													<div class="item_title">이륜자동차운전중상해수술담보</div>
													<div class="sub_txt_area">
														{{> cp/linkButton bl_class="price_btn" bl_text="1십만원" role_b=true question_tit="가입조건변경" }}
													</div>
												</li>
												<li class="list">
													<div class="item_title">이륜자동차운전중상해5대골절진단</div>
													<div class="sub_txt_area">
														{{> cp/linkButton bl_class="price_btn" bl_text="1십만원" role_b=true question_tit="가입조건변경" }}
													</div>
												</li>
												<li class="list">
													<div class="item_title">이륜자동차운전중상해골절수술</div>
													<div class="sub_txt_area">
														{{> cp/linkButton bl_class="price_btn" bl_text="1십만원" role_b=true question_tit="가입조건변경" }}
													</div>
												</li>
												<li class="list">
													<div class="item_title">이륜자동차운전중상해5대골절수술</div>
													<div class="sub_txt_area">
														{{> cp/linkButton bl_class="price_btn" bl_text="3십만원" role_b=true question_tit="가입조건변경" }}
													</div>
												</li>												
											</ul>
										{{/ cp/accordion }}
									</div>									
								</div>
							</div>

							<div class="btn_area center">
								{{> cp/button type="3" size="3" b-text="예상 환급금 알아보기" btn-title="전체 팝업"}}
							</div>

							<!-- s: 꼭 알아두세요 -->
							{{#> cp/notice dp-active="active" }}
							<ul class="list_ty1">
								<li>최초가입시 회사가 정하는 인수지침에 의해 가입나이, 건강상태, 과거병력 및 직무 등에 따라 보험가입금액이 제한되거나 가입이 안될 수 있습니다.</li>
								<li>현대해상 자동차보험(이륜차보험 포함) 고객은 매월 보험료 7% 할인(자동차보험 보험기간 1년, 유효 계약 기준)</li>
								<li>이륜자동차사고처리지원금(중대법규위반, 6주미만치료) 특별약관은 아래의 사항을 보장하는 보통약관 또는 특별약관 기가입자에 한하여 가입 가능합니다.
									<ul class="list_ty2 list_depth_ty2">
										<li>보장사항
											<ul>
												<li>
													이륜자동차 운전 중 발생한 중대법규위반 자동차사고로 타인(피보험자의 부모, 배우자, 자녀 및 동승자 제외)에게 42일이상 치료를 요한다는 진단을 입힌 경우 피해자 1인당 형사합의금으로 지급한 금액을 가입금액 한도로 실손 보상
												</li>
											</ul>
										</li>
									</ul>
								</li>								
								<li>이륜자동차 운전이 가능한 면허 등을 보유하고 있는 운전자에 한하여 가입이 가능합니다.</li>
								<li>오토바이운전자보험은 의무보험인 이륜자동차보험과 달리 임의로 가입할 수 있는 상품입니다.</li>
							</ul>
							{{/ cp/notice }}
							<!-- e: 꼭 알아두세요 -->
						</div>
						<!-- e: guarantee_detail -->
					</div>
					<!-- e: guarantee_container_right -->
				</div>			
			</div>
		</div>
	</form>

	<div class="bottom_fix_wrap">
		<div class="btn_area">
			{{> cp/button type="1" size="1" b-text="원하시는 보장을 선택해 주세요" disabled=true }}
			<!-- {{> cp/button type="1" size="1" b-text="선택한 플랜으로 가입할게요" }} -->
			<!-- {{> cp/button type="1" size="1" b-text="이대로 가입할래요" }} -->
		</div>
	</div>
</div>

<!-- s: popup area -->
<!-- e: popup area -->

<script>
	$(function () {

		// 보험 플랜 - 진입화면 라디오 선택 이벤트
		$('.guarantee_choice_wrap .guarantee_item .gi_radio input[type="radio"]').on('change', function() {
			const idx = $(this).closest('.guarantee_item').index();
			// console.log(idx)
			const $selectedItem = $(this).closest('.guarantee_item');
			$(this).closest('.guarantee_choice_wrap').addClass('active');
			$(this).closest('.guarantee_choice_wrap').find('.guarantee_item').removeClass('active');
			$(this).closest('.guarantee_item').addClass('active');

			// 모든 항목 초기화: 컨텐츠 닫고 타이틀 열기
			$('.guarantee_choice_wrap .guarantee_item').each(function() {
				$(this).find('.guarantee_item_cont').stop(true, true).slideUp(300);
				$(this).find('.guarantee_item_top').stop(true, true).slideDown(300);
			});

			// 선택된 항목만: 컨텐츠 열고 타이틀 닫기
			$selectedItem.find('.guarantee_item_cont').stop(true, true).slideDown(300);
			$selectedItem.find('.guarantee_item_top').stop(true, true).slideUp(300);

			// 고급 선택 시
			if( idx === 0 && $('.gtl_special').length ) {
				$('.gtl_special').addClass('active');
			} else {
				$('.gtl_special').removeClass('active');
			}

			// head 문구 변경
			$('.guarantee_top_item').eq(idx + 1).addClass('active').siblings('.guarantee_top_item').removeClass('active');

			// 비쥬얼 영역 변경			
			$('.guarantee_visuval').stop(true, true).slideUp(300);

			// 추가된 부분
			const selectedClass = $(this).closest('.guarantee_item').data('sendclass'); // 선택된 항목의 data-sendclass 값
			console.log('선택된 항목의 data-sendclass:', selectedClass);
		});
		// 보험 플랜 - 진입화면 라디오 선택 이벤트

		// Splide 설정
		var splide = new Splide('#splide_wrap_ty1 .splide', {
			speed: 500,
			accessibility: true,
			arrows: false, // 기본 화살표 비활성화
			focusableNodes: 'a, button, input, textarea, select, li',
		}).mount();

		splide.on('moved', function () {
			const $slides = $('.splide__slide');
			const $activeSlide = $slides.filter('.is-active');
			const $radio = $activeSlide.find('input[type="radio"]');

			// 모든 슬라이드 tabindex 제거
			$slides.removeAttr('tabindex');

			// 활성화된 슬라이드에 radio 체크 및 focus 처리
			if ($radio.length) {
				$radio.prop('checked', true).trigger('change');
			}

			// 접근성: 현재 슬라이드에 포커스
			$activeSlide.attr('tabindex', '0').focus();

			// 버튼 상태 갱신
			updateArrowState();
		});

		// 슬라이드 효과를 주기 위함
		splide.on('move', function (newIndex) {
			const $slides = $('.splide__slide');
			$slides.removeClass('effect');

			const $nextSlide = $slides.eq(newIndex);
			$nextSlide.addClass('effect');
		});

		// 커스텀 좌우 버튼 클릭 시 이동
		$('#splide_wrap_ty1 .swiper_button_left').on('click', () => splide.go('<'));
		$('#splide_wrap_ty1 .swiper_button_right').on('click', () => splide.go('>'));

		// 버튼 상태 업데이트 함수
		function updateArrowState() {
			const curr = splide.index;
			const max = splide.length - 1;

			$('#splide_wrap_ty1 .swiper_button_left').prop('disabled', curr === 0);
			$('#splide_wrap_ty1 .swiper_button_right').prop('disabled', curr === max);
		}

		// 초기 로드 시 상태 설정
		updateArrowState();	

		// 보험 플랜 - 우측 이동
		$('.move_detail').on('click', function () {
			const selectedClass = $('.guarantee_choice_wrap .guarantee_item input[type="radio"]:checked').closest('.guarantee_item').data('sendclass');
			console.log('선택된 항목의 data-sendclass:', selectedClass);
			const targetSlide = $('.splide__slide[data-getclass="' + selectedClass + '"]');

			if (targetSlide.length) {
				const targetIndex = targetSlide.index();  // 슬라이드의 인덱스를 구합니다.
				// console.log('목표 슬라이드 인덱스:', targetIndex);
				$('.guarantee_container').addClass('active');

				setTimeout(function() {
					$('.splide__list').find('.splide__slide').eq(targetIndex).addClass('effect').find('input[type="radio"]').prop('checked', true);;
					splide.go(targetIndex);
					$('.container').scrollTop(0);
					setTimeout(function(){
						$('.splide__list').find('.splide__slide').eq(targetIndex).attr('tabindex', '0').focus();
						$('.guarantee_container').css('position', 'static');
						$('.guarantee_container_left').attr('aria-hidden', true);
						$('.guarantee_container_right').css('position', 'static');
					}, 100)
				}, 500);
			}
		});
		// 보험 플랜 - 우측 이동

		window.addEventListener('resize', function () {
			splide.refresh(); // 슬라이드 다시 계산
		});
		
	});
</script>



{{/ layout/default }}
